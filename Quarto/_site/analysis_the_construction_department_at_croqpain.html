<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.376">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>the_construction_department_at_croqpain -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.29/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="michels-task-on-finding-best-new-10-locations-challenge-will-best-suited-with-regression-analytics-when-other-60-locations-data-is-given." class="level4">
<h4 class="anchored" data-anchor-id="michels-task-on-finding-best-new-10-locations-challenge-will-best-suited-with-regression-analytics-when-other-60-locations-data-is-given.">Michel’s task on finding best new 10 locations challenge will best suited with Regression Analytics when other 60 Locations data is given.</h4>
</section>
<section id="i-have-a-dataset-with-60-locations-information-with-the-description-below" class="level4">
<h4 class="anchored" data-anchor-id="i-have-a-dataset-with-60-locations-information-with-the-description-below">I have a dataset with 60 location’s information with the description below</h4>
</section>
<section id="croqpain" class="level2">
<h2 class="anchored" data-anchor-id="croqpain">Croq’Pain</h2>
<p>Data on store earnings and other characteristics for the Croq’Pain case. There should be a total of 60 different stores and 10 potential new outlets. The model used for forecasting should be built on data for the existing 60 stores.</p>
<section id="variables" class="level3">
<h3 class="anchored" data-anchor-id="variables">Variables</h3>
<ul>
<li>STOR: Store ID</li>
<li>CITY: City in the which store is located. Only provided for potential new outlets</li>
<li>EARN: Earnings in $1,000. Operating earnings: annual sales minus annual operating costs. Operating costs exclude the fixed costs of property rent and equipment rental (all capital equipment is purchased by headquarters and rented to the stores). Operating costs include variable costs such as salaries, utilities, supplies, inventories and other expenses.</li>
<li>K: Capital invested in the store in $1,000. This amount is exactly equal to the purchase price of the property (or the lease, in some cases) plus the cost of all equipment and the cost of remodeling the space.</li>
<li>SIZE: Size of store in square meters: Total area inside the store</li>
<li>EMPL: Number of employees. Not determined until store is opened</li>
<li>P15: Number of 15-24 year olds in a 3 km radius around site in 1,000s</li>
<li>P25: Number of 25-34 year olds in a 3 km radius around site 1,000s</li>
<li>P35: Number of 35-44 year olds in a 3 km radius around site 1,000s</li>
<li>P45: Number of 45-54 year olds in a 3 km radius around site 1,000s</li>
<li>P55: Number of persons above 55 in a 3 km radius around site 1,000s</li>
<li>total: Total population in 3 km radius around site 1,000s</li>
<li>INC: Average income in $1,000 in town or neighborhood around site</li>
<li>COMP: Number of competitors in a 1 km radius around site. Establishments considered as competitors include fast food restaurants, bars and cafes equipped providing lunch service</li>
<li>NCOMP: Number of restaurants that do not compete directly with CroqPain in 1 km radius around site</li>
<li>NREST: Number of non-restaurant businesses in 1 km radius around site</li>
<li>PRICE: Monthly rent per square meter of the retail properties in the same locale.</li>
<li>CLI = Cost of Living Index. Measures the cost of living in the immediate vicinity to the restaurant site. Aggregate of average cost of living index determined by the commerce department and additional economic measures taken by experts on site</li>
<li>CITY: City name for potential new locations</li>
</ul>
</section>
</section>
<section id="now-i-will-run-the-corrlation-table-to-see-how-each-data-points-has-the-relavance-to-earn-column-which-is-our-gola-to-predict." class="level2">
<h2 class="anchored" data-anchor-id="now-i-will-run-the-corrlation-table-to-see-how-each-data-points-has-the-relavance-to-earn-column-which-is-our-gola-to-predict.">Now I will run the corrlation table to see how each data points has the relavance to “EARN” column which is our gola to predict.</h2>
<p>Before we read the data, let me load packages for both R &amp; Python.</p>
<section id="load-r-packages-r" class="level4">
<h4 class="anchored" data-anchor-id="load-r-packages-r">Load R Packages (R)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-python-packages-python" class="level4">
<h4 class="anchored" data-anchor-id="load-python-packages-python">Load Python Packages (Python)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> boxcox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-the-data-provided-r" class="level4">
<h4 class="anchored" data-anchor-id="read-the-data-provided-r">Read the data provided (R)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>croqpain <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-767bbf774b7b970ff09b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-767bbf774b7b970ff09b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70],[28339.67262,-1.455001103,68.93267806999999,202.0733273,115.7785114,221.6734113,292.8701364,134.4088269,37.43972617,180.9928087,246.8673835,178.3379501,214.8849193,0.57467348,252.3048567,124.2231593,258.0785289,193.0282613,54.7825117,45.37609911,66.34762562,123.7451652,57.84270377,75.24658705,115.6080232,140.9076965,94.06063446,250.8450913,-42.97957037,145.5637273,147.6018419,175.1382221,117.9339236,79.46121281000001,140.4979203,399.2359194,246.3206932,77.55549731000001,108.3340474,188.6477512,143.5253904,175.4940584,94.05178862,214.1779747,63.28560864,237.055035,208.8095079,110.6177443,165.3701631,-11.4463747,216.2803734,65.6935545,67.63783977999999,127.9427305,82.93844617000001,-2.880188407,247.7372685,343.0158035,193.1413652,277.5274892,null,null,null,null,null,null,null,null,null,null],[861.0718000000001,630.3028,1074.436,882.0064,930.6688,1184.992,907.0924,764.08,643.423,665.5119999999999,1245.2872,846.1978,707.7142,1370.362,1145.92,642.1132,662.1376,898.7008,681.3184,761.3049999999999,583.5496000000001,906.8926,688.3114,711.4216,629.881,889.288,637.984,888.8884,1089.5764,565.1014,504.2734,732.2008,628.7488,746.3200000000001,1152.2914,1171.7164,1719.5236,1593.6052,1124.0974,626.107,906.4930000000001,721.9,597.4023999999999,642.9568,761.1718,570.163,553.2465999999999,860.65,713.575,575.2912,775.9792,647.752,689.8432,715.018,650.0608,788.4112,781.951,1557.841,935.575,687.9784,660.1396,733,1050.349,836,783.616,924.808,1089.5764,737.662,584,681],[129,91,140,184,144,160,94,100,85,92,167,199,83,141,240,82,96,78,99,75,52,177,111,84,95,95,67,154,93,67,61,116,92,78,103,191,263,261,169,97,117,116,76,144,87,73,59,83,125,56,146,62,96,86,88,72,119,285,193,92,54,120,135,245,96,197,93,169,149,150],[14,12,13,7,14,11,5,8,14,6,12,15,8,10,17,16,14,11,11,14,8,17,9,12,13,10,5,8,17,12,9,7,15,6,16,13,8,9,8,15,12,5,16,14,17,6,11,13,7,4,11,11,9,10,8,7,7,8,8,12,null,null,null,null,null,null,null,null,null,null],[8.58,8.460000000000001,19.25,20.92,11.66,25.78,19,18.5,14.21,17.44,22.36,20.36,30.02,9.039999999999999,23.37,17.16,23.96,28.38,9.08,11.91,22.55,7.76,12.16,6.04,14.75,24.96,19.94,24.67,16.66,11.85,24.84,25.91,11.29,19.44,17.18,29.02,17.08,9.49,12.98,24.35,21.93,13.55,23.18,21.83,22.22,26.7,19.92,26.2,20.55,14.26,17.44,12.88,14.31,12.99,16.38,21.36,23.4,22.83,13.51,25.49,6.71,11.04,11.91,11.35,3.5,12.72,16.66,9.41,19.02,12.65],[0.98,1.29,2.94,3.57,1.7,4.64,3.6,3.45,1.93,3.52,3.97,3.19,4.92,1.21,4.15,2.79,4.18,4.65,1.32,2.21,4.18,1.45,1.67,0.72,2.62,3.99,3.49,3.95,2.57,1.99,4.79,4.46,2.05,3.37,2.45,4.85,2.88,0.77,1.77,4.33,3.31,1.55,4.05,3.92,3.23,5.15,3.45,4.07,2.8,2.15,2.8,2.02,2.32,2.48,1.87,3.31,3.62,4.16,1.95,4.89,0.6,1.3,2.21,3.4,0.26,1.65,2.57,0.78,2.5,1.65],[1.28,0.72,2.49,4.93,1.14,3.15,2.33,2.56,4.28,1.78,2.81,3.61,5.54,0.98,1.54,3.85,4.48,3.76,1.48,1.85,3.04,2.08,3.05,0.06,1.09,3.86,1.27,4.34,2.94,1.06,3.1,1.48,1.32,2.18,3.13,4.66,1.95,1.96,3.08,1.86,4.75,3.59,2.43,2.81,4.89,2.52,3.99,4.97,3.82,3.03,2.35,1.78,1.04,2.38,3.29,3.59,3.82,1.23,2.36,1.8,2.57,1.4,1.85,3,0.7,1.96,2.94,1.94,2.68,1.32],[0.5600000000000001,1.2,3.71,4.42,2.2,5.72,4.75,3.63,1.74,4.35,4.54,4.38,5.97,0.89,5.29,3.2,5.32,6.18,1.12,2.33,5.13,1.41,1.49,0.25,2.79,5.19,4.73,5.16,2.82,1.47,5.92,5.94,1.91,3.84,2.85,6.13,3.47,0.58,1.54,5.35,3.62,1.48,5.06,4.26,3.99,6.28,4.09,5.36,3.37,2.36,3.18,2.81,2.42,2.53,2.52,3.73,5.68,5.12,2.31,6.07,0.43,2.11,2.33,2.57,0.5,2.3,2.82,0.88,4.6,1],[1,1.49,4.03,4.3,2.14,5.33,4.97,3.52,2.06,4.02,4.77,4.15,5.77,1.05,5.14,3.61,4.98,5.76,1.09,2.24,4.77,1.84,1.91,0.58,3,5.37,4.9,5.11,2.72,1.87,5.88,5.93,1.98,3.95,2.78,5.99,3.89,0.77,1.79,5.27,3.69,1.54,4.98,4.33,4.05,5.91,4.11,5.19,3.65,2.24,3.05,3,2.77,2.67,2.66,3.97,4.26,5.2,2.32,5.96,0.6899999999999999,1.09,2.24,1.2,1.2,1.78,2.72,1.08,4.567,3.4],[3.1,3.1,5.27,2.96,2.63,5.92,3.03,4.8,2.96,3.47,4.7,3.67,6.37,3.76,6.14,2.31,4.53,6.72,2.77,2.17,4.43,0.91,2.54,3.44,3.94,5.7,3.98,4.57,4.45,4.12,3.8,6.38,2.59,4.93,5.09,6.19,3.34,3.72,3.74,5.73,5.15,4.44,5.4,5.97,5.27,6.49,2.76,5.71,5.26,3.8,5.49,2.01,4.38,1.42,4.39,5.45,6.06,5.67,3.48,5.89,1.44,2.68,2.17,1.35,2,4.39,4.45,3.45,3,2.37],[27.6,28.3,30.2,27.6,33.9,32.5,33.1,29.7,28.4,28.3,38.3,32.1,36,35.3,35.9,33.4,35.4,29.7,28.8,29.8,28.6,34.9,26.4,28,28.2,29.6,26.9,27.7,25.2,36.5,32.8,27.7,33.6,29.5,34.9,34.5,38.8,31,31.8,30.8,29.9,34,31,30,25.5,35.2,34.4,29.5,33.8,29.9,32.1,32.7,30,34.4,28.8,28.7,33.4,27.6,28.7,36,38.4,31.3,29,37,30,23,25.2,30.1,28.6,34.9],[8,2,5,2,1,3,0,3,4,8,3,6,6,2,1,1,6,1,6,1,1,6,8,4,10,2,2,1,2,2,1,1,3,1,0,1,1,2,2,3,5,2,6,1,2,8,7,4,3,2,2,7,1,3,3,2,2,2,1,1,4,7,1,5,12,1,2,4,4,3],[1,2,4,1,3,9,11,3,12,1,10,3,4,3,5,7,11,4,7,4,6,12,8,3,14,7,3,5,0,5,5,4,3,4,3,1,5,8,10,11,5,4,13,11,3,3,6,10,10,5,6,7,6,5,3,8,10,3,9,8,5,6,4,8,7,9,0,4,5,12],[45,27,5,7,25,8,89,14,43,76,9,11,8,11,16,6,9,51,17,13,26,14,41,64,50,21,18,64,5,61,31,19,5,45,13,96,29,13,10,29,36,44,19,26,32,14,71,44,12,12,26,70,7,17,16,10,63,40,34,31,18,21,13,62,38,41,5,11,26,54],[16.1,11.4,21.7,11.8,16.6,22.1,24.3,16.4,12.9,13,22.8,10.1,16.7,31,14,13.3,12.3,28.8,12.8,21.7,15.9,12.9,11.7,16.7,10.9,23.2,16,14.3,33.4,11.1,7.7,12.9,11.2,20,32.9,18.2,22.6,20.6,19.3,10.5,19.5,12.5,11.7,7.6,18.7,10.5,11.7,25,11.3,14.1,11.6,18,13.6,16.5,12.8,24.3,13.3,18.3,12.5,14.1,21.7,12.5,21.7,12.5,18,12,33.4,9,13.4,15.4],[129,116,142,138,126,137,134,132,129,117,136,121,139,118,136,122,129,137,118,135,117,140,117,128,132,131,134,124,133,110,124,125,137,135,128,131,138,127,131,141,140,120,134,112,128,134,116,116,122,127,124,125,134,122,134,129,121,116,112,127,131,115,135,136,130,136,133,126,128,128],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Calais","Montchanin","Aubusson","Toulouse","Torcy","Marseilles-1","Marseilles-2","Clermont","Montpellier","Dijon"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>STOR<\/th>\n      <th>EARN<\/th>\n      <th>K<\/th>\n      <th>SIZE<\/th>\n      <th>EMPL<\/th>\n      <th>total<\/th>\n      <th>P15<\/th>\n      <th>P25<\/th>\n      <th>P35<\/th>\n      <th>P45<\/th>\n      <th>P55<\/th>\n      <th>INC<\/th>\n      <th>COMP<\/th>\n      <th>NCOMP<\/th>\n      <th>NREST<\/th>\n      <th>PRICE<\/th>\n      <th>CLI<\/th>\n      <th>CITY<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br> <br></p>
</section>
<section id="before-i-fit-a-linear-model-i-would-like-to-make-sure-the-distribution-if-its-a-good-data-to-fit-a-model-by-looking-at-histogram-and-scatter-plots." class="level3">
<h3 class="anchored" data-anchor-id="before-i-fit-a-linear-model-i-would-like-to-make-sure-the-distribution-if-its-a-good-data-to-fit-a-model-by-looking-at-histogram-and-scatter-plots.">Before I fit a linear model, I would like to make sure the distribution if it’s a good data to fit a model by looking at Histogram and Scatter Plots.</h3>
<section id="creat-histograms-python" class="level4">
<h4 class="anchored" data-anchor-id="creat-histograms-python">Creat Histograms (Python)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>num_columns <span class="op">=</span> croqpain.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>selected_columns <span class="op">=</span> [<span class="st">'EARN'</span>, <span class="st">'K'</span>, <span class="st">'SIZE'</span>, <span class="st">'EMPL'</span>, <span class="st">'total'</span>, <span class="st">'P15'</span>, <span class="st">'P25'</span>, <span class="st">'P35'</span>, <span class="st">'P45'</span>, <span class="st">'P55'</span>, <span class="st">'INC'</span>, <span class="st">'PRICE'</span>, <span class="st">'CLI'</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">15</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, col <span class="kw">in</span> <span class="bu">enumerate</span>(selected_columns, <span class="dv">1</span>):</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">5</span>, <span class="dv">4</span>, i)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    plt.hist(croqpain[col].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    plt.title(col)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-1" class="quarto-figure quarto-figure-center anchored" width="1920">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="analysis_the_construction_department_at_croqpain_files/figure-html/unnamed-chunk-6-1.png" id="fig-539a35d47e664c97a50115a146a7f1bd-1" class="img-fluid figure-img" width="1920">
</div>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="here-i-see-some-skewness-and-want-to-make-them-normal-distribution." class="level3">
<h3 class="anchored" data-anchor-id="here-i-see-some-skewness-and-want-to-make-them-normal-distribution.">Here, I see some skewness and want to make them normal distribution.</h3>
<section id="python" class="level4">
<h4 class="anchored" data-anchor-id="python">(Python)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting the relevant columns for transformation</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>cols_to_transform <span class="op">=</span> [<span class="st">'EARN'</span>, <span class="st">'K'</span>, <span class="st">'SIZE'</span>, <span class="st">'INC'</span>, <span class="st">'PRICE'</span>, <span class="st">'CLI'</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df_transformed <span class="op">=</span> croqpain[cols_to_transform].copy()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying log transformation (adding a small value to avoid log(0))</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Using numpy's log1p which is log(x + 1) to handle zero values</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>df_transformed <span class="op">=</span> np.log1p(df_transformed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/opt/conda/lib/python3.11/site-packages/pandas/core/internals/blocks.py:366: RuntimeWarning: invalid value encountered in log1p
  result = func(self.values, **kwargs)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting histograms after transformation</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, col <span class="kw">in</span> <span class="bu">enumerate</span>(cols_to_transform, <span class="dv">1</span>):</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">4</span>, <span class="dv">4</span>, i)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    plt.hist(df_transformed[col].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Log Transformed </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-2" class="quarto-figure quarto-figure-center anchored" width="1440">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="analysis_the_construction_department_at_croqpain_files/figure-html/unnamed-chunk-7-3.png" id="fig-539a35d47e664c97a50115a146a7f1bd-2" class="img-fluid figure-img" width="1440">
</div>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="k-price-is-still-right-skewed-and-cli-is-left-skewed.-lets-fix-that" class="level3">
<h3 class="anchored" data-anchor-id="k-price-is-still-right-skewed-and-cli-is-left-skewed.-lets-fix-that">K, Price is still Right Skewed, and CLI is left skewed. Let’s fix that!</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For right-skewed data ('K' and 'PRICE'), Box-Cox transformation</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Box-Cox requires all values to be positive, so add a small value to avoid zero or negative values</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>df_transformed[<span class="st">'K_boxcox'</span>], _ <span class="op">=</span> boxcox(croqpain[<span class="st">'K'</span>] <span class="op">+</span> <span class="fl">0.01</span>)  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>df_transformed[<span class="st">'PRICE_boxcox'</span>], _ <span class="op">=</span> boxcox(croqpain[<span class="st">'PRICE'</span>] <span class="op">+</span> <span class="fl">0.01</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># For left-skewed data ('CLI'), we use a reflection (subtracting from a constant) and then log transformation</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>max_cli <span class="op">=</span> croqpain[<span class="st">'CLI'</span>].<span class="bu">max</span>() <span class="op">+</span> <span class="dv">1</span>  </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>df_transformed[<span class="st">'CLI_reflected_log'</span>] <span class="op">=</span> np.log(max_cli <span class="op">-</span> croqpain[<span class="st">'CLI'</span>])</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting histograms after further transformations</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure size 1500x500 with 0 Axes&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Box-Cox transformed histograms</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>plt.hist(df_transformed[<span class="st">'K_boxcox'</span>].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(array([1., 0., 3., 4., 4., 9., 9., 8., 4., 7., 7., 2., 7., 2., 3.]), array([0.73331066, 0.73331887, 0.73332707, 0.73333528, 0.73334348,
       0.73335169, 0.7333599 , 0.7333681 , 0.73337631, 0.73338451,
       0.73339272, 0.73340093, 0.73340913, 0.73341734, 0.73342554,
       0.73343375]), &lt;BarContainer object of 15 artists&gt;)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box-Cox Transformed K'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Text(0.5, 1.0, 'Box-Cox Transformed K')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>plt.hist(df_transformed[<span class="st">'PRICE_boxcox'</span>].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(array([ 2.,  0.,  1.,  1.,  5.,  8., 14.,  5.,  4.,  7.,  6.,  7.,  5.,
        1.,  4.]), array([1.32754057, 1.35622506, 1.38490955, 1.41359405, 1.44227854,
       1.47096304, 1.49964753, 1.52833203, 1.55701652, 1.58570102,
       1.61438551, 1.64307001, 1.6717545 , 1.70043899, 1.72912349,
       1.75780798]), &lt;BarContainer object of 15 artists&gt;)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box-Cox Transformed PRICE'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Text(0.5, 1.0, 'Box-Cox Transformed PRICE')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reflected log transformed histogram</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plt.hist(df_transformed[<span class="st">'CLI_reflected_log'</span>].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(array([ 1.,  0.,  1.,  0.,  2.,  1.,  2.,  3.,  7.,  8.,  6., 13.,  7.,
       11.,  8.]), array([0.        , 0.2331005 , 0.46620101, 0.69930151, 0.93240202,
       1.16550252, 1.39860302, 1.63170353, 1.86480403, 2.09790454,
       2.33100504, 2.56410555, 2.79720605, 3.03030655, 3.26340706,
       3.49650756]), &lt;BarContainer object of 15 artists&gt;)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Reflected Log Transformed CLI'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Text(0.5, 1.0, 'Reflected Log Transformed CLI')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-3" class="quarto-figure quarto-figure-center anchored" width="1440">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="analysis_the_construction_department_at_croqpain_files/figure-html/unnamed-chunk-8-5.png" id="fig-539a35d47e664c97a50115a146a7f1bd-3" class="img-fluid figure-img" width="1440">
</div>
</figure>
</div>
</div>
</div>
</section>
<section id="oh-no-cli-is-still-left-skewed" class="level3">
<h3 class="anchored" data-anchor-id="oh-no-cli-is-still-left-skewed">Oh, No… CLI is still left skewed</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying a square transformation to 'CLI'</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df_transformed[<span class="st">'CLI_squared'</span>] <span class="op">=</span> croqpain[<span class="st">'CLI'</span>] <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the histogram for the squared 'CLI'</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure size 600x400 with 0 Axes&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>plt.hist(df_transformed[<span class="st">'CLI_squared'</span>].dropna(), bins<span class="op">=</span><span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(array([ 3.,  0.,  8.,  2.,  3.,  3.,  5., 10.,  5.,  6.,  8.,  7.,  5.,
        3.,  2.]), array([12100. , 12637.6, 13175.2, 13712.8, 14250.4, 14788. , 15325.6,
       15863.2, 16400.8, 16938.4, 17476. , 18013.6, 18551.2, 19088.8,
       19626.4, 20164. ]), &lt;BarContainer object of 15 artists&gt;)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Squared Transformed CLI'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Text(0.5, 1.0, 'Squared Transformed CLI')</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-4" class="quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="analysis_the_construction_department_at_croqpain_files/figure-html/unnamed-chunk-9-7.png" id="fig-539a35d47e664c97a50115a146a7f1bd-4" class="img-fluid figure-img" width="576">
</div>
</figure>
</div>
</div>
</div>
</section>
<section id="okay-good.-now-we-have-a-normally-distributed-data-points." class="level3">
<h3 class="anchored" data-anchor-id="okay-good.-now-we-have-a-normally-distributed-data-points.">Okay, good. Now we have a normally distributed data points.</h3>
</section>
<section id="how-about-outliers-will-ther-be-any-outliers-to-affect-the-data-to-be-normal-lets-look-at-the-scatter-plots" class="level3">
<h3 class="anchored" data-anchor-id="how-about-outliers-will-ther-be-any-outliers-to-affect-the-data-to-be-normal-lets-look-at-the-scatter-plots">How about Outliers? Will ther be any outliers to affect the data to be normal? let’s look at the scatter plots!</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure size 1500x2000 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff543fe950&gt;
Text(0.5, 0, 'Transformed K')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs Transformed K')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff5456b2d0&gt;
Text(0.5, 0, 'Transformed SIZE')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs Transformed SIZE')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54556250&gt;
Text(0.5, 0, 'EMPL')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs EMPL')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54432dd0&gt;
Text(0.5, 0, 'P15')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs P15')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff545b6d50&gt;
Text(0.5, 0, 'P25')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs P25')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff542ada90&gt;
Text(0.5, 0, 'P35')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs P35')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54273850&gt;
Text(0.5, 0, 'P45')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs P45')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54328a50&gt;
Text(0.5, 0, 'P55')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs P55')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54361b10&gt;
Text(0.5, 0, 'total')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs total')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff54179b10&gt;
Text(0.5, 0, 'Transformed INC')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs Transformed INC')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff5419b650&gt;
Text(0.5, 0, 'Transformed PRICE')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs Transformed PRICE')
&lt;Axes: &gt;
&lt;matplotlib.collections.PathCollection object at 0xffff5420ad90&gt;
Text(0.5, 0, 'Transformed CLI')
Text(0, 0.5, 'Transformed EARN')
Text(0.5, 1.0, 'EARN vs Transformed CLI')</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-5" class="quarto-figure quarto-figure-center anchored" width="1440">
<figure class="quarto-float quarto-float-fig figure">
<div>
<img src="analysis_the_construction_department_at_croqpain_files/figure-html/unnamed-chunk-10-9.png" id="fig-539a35d47e664c97a50115a146a7f1bd-5" class="img-fluid figure-img" width="1440">
</div>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>